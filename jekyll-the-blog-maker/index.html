<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <title>Jekyll: The blog maker</title>
  <meta name="description" content="As you may have figured out, I use Jekyll to create my Github Pages. And boy did I have a hard time understanding what the heck was going on. I dunno, maybe ...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://risaonrails.com/jekyll-the-blog-maker/">
  <link rel="alternate" type="application/rss+xml" title="" href="http://risaonrails.com/feed.xml" />
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-name" href="/">Risa on Rails</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About Risa</a>
          
        
          
        
          
        
          
          <a class="page-link" href="/level-up/">Level up!</a>
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Jekyll: The blog maker</h1>
    <p class="post-meta">Apr 3, 2015</p>
  </header>

  <article class="post-content">
    <p>As you may have figured out, I use Jekyll to create my Github Pages. And boy did I have a hard time understanding what the heck was going on. I dunno, maybe docs and I just don’t get along. Most of the how-to guides out there were like “oh yeah rip off this template from this site and start using jekyll!” but that feels like a cop-out to me, and I like to bash my head into the wall. Or keyboard.</p>

<p><img src="http://i1.kym-cdn.com/photos/images/masonry/000/021/531/SmashingHeadOnKeyboard.gif" alt="Bash your head in" /></p>

<p>Pretty. Much. Every. Day.</p>

<p>Anyway, here’s what I’ve learned thus far with using Jekyll and Github Pages. Maybe this will help you out, too. I hope to expand my knowledge as well.  Glad that it’s written in Ruby, so implementation of things are much easier to understand (for me).</p>

<h3 id="github-pages-overview">&gt; Github Pages Overview</h3>
<p>First issue I did not realize, and maybe I should have actually <em>read</em> the instructions better,… there is a HUGE difference between creating a Github Page for a repo and for your account. I wanted to create one for my account but made it for my repo instead. Whoops.</p>

<p>Github <a href="https://pages.github.com/">explains this fairly well</a>, but here’s my version for one-stop shopping goodness. I assume you’re a developer and are knowledgable about the standard <code>git</code> type of commands.</p>

<p>On your local machine, install Jekyll.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>gem install jekyll</code></pre></div>

<h3 id="github-pages-for-your-github-account">&gt; Github Pages for your github account</h3>
<p>Create a new repo in Github called “your-github-username.github.io”. In my case it’s a repo called “rbatta.github.io” since my Github username is rbatta. When you git clone to your local machine, your <code>master</code> branch will be the one Github uses to publish your site. You get that? <em>Master branch is what Github uses to publish your site.</em> Git clone your new repo and hop into that directory.</p>

<p><em>Note: If you create a repo and name it whatever you want and NOT “your-username.github.io”, Github will see this as a Page for your Repo. When this happens, Github will use the branch called <code>gh-pages</code> instead of <code>master</code> to auto-publish your site. It’s confusing and tripped me up massively in the beginning.</em></p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>git clone git@github.com/your-github-username/your-github-username.github.io.git</code></pre></div>

<p>For sanity’s sake, before you hop into your directory, create a new directory and call it whatever you want. If it makes it easier for you, call it what you want your site to be called. Is it your blog? Call it that. Since I booched the whole Github Pages account vs repo thing, I already had a repo called <code>risa-on-rails</code> so I used this. This new directory thing will come in handy later. Trust me.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>mkdir your-sites-blog-name
<span class="nv">$ </span><span class="nb">cd </span>your-sites-blog-name</code></pre></div>

<p>Great! Now I realize this is an empty directory. It’s cool. Time to create a new Jekyll blog.</p>

<p><strong>But wait!</strong> Why are we in <code>your-sites-blog-name</code> and not in <code>your-username.github.io</code> directory? Well, like I said before, the <code>master</code> branch is what Github uses to publish your blog. <strong><em>NOT</em></strong> publish your repo. We’ll keep the <code>master</code> directory clean until we’re ready to push things up. So in the meantime, we’ll use the <code>your-sites-blog-name</code> directory to do all of our work.</p>

<h3 id="jekyll-setup">&gt; Jekyll setup</h3>
<p>Create a new Jekyll site by running <code>jekyll new .</code> Make sure you’ve got that period in there, since that creates it within this directory.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>jekyll new .</code></pre></div>

<p>Jekyll will install a bunch of directories with _’s in them along with some other files, including a <code>_config.yml</code> file. This file will be the driver of just about everything: name it here and use it everywhere!</p>

<p>Create 2 directories called <code>_plugins</code> and <code>_drafts</code>. Because you may want/need them.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>mkdir _plugins _drafts</code></pre></div>

<p>This is probably a good time to do <code>git init</code> and do your initial commit.</p>

<h3 id="configyml">&gt; _config.yml</h3>
<p>Fill in the information given. For <code>baseurl:</code> keep that as blank quotes so that when you serve up your site, it’ll load at <code>127.0.0.1:4000</code> instead of <code>127.0.0.1/baseurl-you-gave-it</code>.</p>

<p>If you change any of the variables, make sure you change them in the css and anywhere else in the other files. For me, I changed the <code>:title</code> symbol to <code>:name</code> for the name of my blog. Anywhere where <code>site.title</code> was referenced, I changed to <code>site.name</code>. That includes the css file too. I did this because I added in a <code>permalink: /:title/</code> option to give all my pages their own permalinks instead of the weird directory structure Jekyll uses.</p>

<p>Add in <code>future: false</code> if you’d like for Github Pages/Jekyll to honor your publish dates set in your posts. (If you put a future date, then the post won’t show up until that date.)</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">permalink: /:title/
future: <span class="nb">false</span></code></pre></div>

<h3 id="posts-and-drafts">&gt; _posts/ and _drafts/</h3>
<p>By default, anything that you put in the _posts directory will be published. Of course you need to make sure it’s in the format of <code>yyyy-mm-dd-post-name</code> with whatever extension you use. I prefer markdown so all my posts end with <code>.md</code>. You’re the author of your blogposts so choose whatever format you’d like: Textile or Markdown are the two default choices Jekyll supports. You can choose others with plugins.</p>

<p>The _drafts folder is exactly that, for drafts. You don’t need to append dates to it. In fact, when you’re ready to publish it, that’s when you can append dates. For that, we’ve got a handy tool, the <a href="https://github.com/gummesson/jekyll-rake-boilerplate">jekyll-rake-boilerplate Rakefile</a>. Copy that Rakefile into your repo. Now you’ve got some added jekyll capabilities like: <code>rake watch["drafts"]</code> which is the equivalent to <code>jekyll serve --watch --drafts</code>, and <code>rake draft["your post's title"]</code> which creates a new draft post with the given title. Sweetness. <code>rake publish</code> let’s you pick the draft you want to publish and appends the date automagically to your post, moving it from _drafts to _posts and eliminating the need to wonder what day it currently is.</p>

<p>To use the <code>rake draft["title"]</code> task, create a file called <code>_post.md</code> in the root directory. In your <code>_config.yml</code> add in the following so your rake task won’t break when it’s run:</p>

<pre><code>post:
  template: _post.md
  extension: md
</code></pre>

<p>In your <code>_post.md</code> file, you need to ensure that you’ve got the YAML markup at the beginning with the — thing. If you need a template, copy paste it from the Rakefile site or use the welcome-to-jekyll post’s YAML header. Think of this as your template for ALL your posts. Update as you see fit.</p>

<h3 id="plugins">&gt; _plugins</h3>
<p>There are some cool plugins for added functionality for Jekyll. However when publishing to Github, that’s stripped away and is not built when the site is published. Something something safety precautions. Ehhh. This is why we created a separate directory to work in. The <code>your-sites-blog-name</code> directory has all your drafts and posts and plugins and directories, but we will be creating the ‘static’ website and pushing that to the <code>your-username.github.io</code> directory for the master branch, to deploy to Github to publish. Wow, that came off a bit more complicated than I expected. Here’s the workflow.  We’ll go more into detail later on with this.</p>

<p>Start in your-sites-blog-name dir <i class="fa fa-angle-right"></i> create draft posts and stuff <i class="fa fa-angle-right"></i> rake publish draft <i class="fa fa-angle-right"></i> jekyll build site <i class="fa fa-angle-right"></i> copy <em>ONLY</em> the <code>_site</code> directory contents to your-username.github.io directory <i class="fa fa-angle-right"></i> cleanup anything you need and git add, commit <i class="fa fa-angle-right"></i> push to github <i class="fa fa-angle-right"></i> ??? <i class="fa fa-angle-right"></i> profit!</p>

<p>Let’s start by adding in my favourite simple plugin, the <a href="https://gist.github.com/23maverick23/8532525">jekyll-font-awesome</a> plugin. Create a file in <code>_plugins/</code> called <code>font_awesome.rb</code> and paste the contents from that gist into this file. If you’re not familiar with fontawesome.io, it’s a bunch of rad icons for everything. Paste the link below into your head.html file at around line 6: <code>_includes/head.html</code>, just like that.</p>

<pre><code>  &lt;link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"&gt;
</code></pre>

<p>Now you can add icons by using the syntax <code>{.% icon fa-something %}</code> (without the period in there). Go buck-wild and add some icons and stuff to your site! Wahoo!</p>

<h3 id="publishing">&gt; Publishing</h3>
<p>When you are ready to publish, build the site with Jekyll by running <code>jekyll build</code>.  This creates a directory called <code>_site/</code> which houses the raw ol’ school HTML of your posts with a css directory that the pages reference.</p>

<p>OK. Remember the workflow up above? Let’s break it down into simpler steps. I ended up using Automator on the Mac (it’s a native/default app and totally underrated IMO) to do this for me. The directions for that are beautifully written up <a href="http://vincentp.me/blog/a-smarter-jekyll-workflow/">in this blog post</a>. I won’t repeat them as it does a great job. You can have your finder window open to watch this happen in real time. I have my _site directory in risa-on-rails watched by Automator for any changes. Any and all changes are then ported over to rbatta.github.io (master branch).</p>

<p>If you were to do this all by terminal, it’d go something like this:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># starting in your-sites-blog-name directory</span>
<span class="nv">$ </span>jekyll build
<span class="nv">$ </span>git add .
<span class="nv">$ </span>git commit -m <span class="s2">&quot;yeah your awesome message about your post&quot;</span>
<span class="nv">$ </span>cp -r _site/* ../your-username.github.io/
<span class="c"># on a Mac you&#39;ll have to say yes to overwriting everything</span>
<span class="c"># annoying, I know. you can also sudo to overwrite.</span>
<span class="nv">$ </span><span class="nb">cd</span> ../your-username.github.io
<span class="c"># confirm that the contents of _site were copied over</span>
<span class="c"># you may need to rm -rf Rakefile OR add a .gitignore file</span>
<span class="c"># and put Rakefile in it. Whatever you&#39;d like to do</span>
<span class="nv">$ </span>rm -rf Rakefile
<span class="nv">$ </span>git add .
<span class="nv">$ </span>git commit -m <span class="s2">&quot;your msg about your post that&#39;s ready for Github&quot;</span>
<span class="nv">$ </span>git push origin master</code></pre></div>

<p>BOOM. You should be good to go now. Check out your site at http://your-username.github.io :)</p>

<h3 id="laziness">&gt; Laziness</h3>
<p>I like to make my workflow a lot easier by making aliases. The order of some of the commands won’t matter. So here’s the alias I created, using <code>sudo cp</code> to overwrite things properly. It involves putting in my password but that’s still less typing overall. Easy peasy. This alias will be put into your <code>~/.bash_profile</code> or <code>~/.zshrc</code> file.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">alias </span>copy-it<span class="o">=</span><span class="s1">&#39;jekyll build;sudo cp -r _site/* ../your-username.github.io/;cd ../your-username.github.io;&#39;</span>
<span class="nb">echo</span> <span class="s1">&#39;=======================&#39;</span>
<span class="nb">echo</span> <span class="s1">&#39;Jekyll cheats&#39;</span>
<span class="nb">echo</span> <span class="s1">&#39;=======================&#39;</span>
<span class="nb">echo</span> <span class="s1">&#39;make sure you are in correct directory before running this&#39;</span>
<span class="nb">echo</span> <span class="s1">&#39;copy-it = jekyll build then copy contents of _site to your-username master&#39;</span></code></pre></div>

<p>Obviously change the directory names to fit your thing. Save it and source your file: <code>source ~/.bash_profile</code> or <code>source ~/.zshrc</code>. You should see the commands displayed in your terminal.</p>

<p><em>Note: If you run <code>copy-it</code> you *MUST* be in the correct directory (your-sites-blog-name)!!</em></p>

<p>Confirm with a <code>git diff</code>. Then commit and push that sucker up! You are on your way to blogging freedom now. (And so am I!)</p>

<p><i class="fa fa-angle-double-up"></i> Level up +5</p>

<hr />

<p>Questions? Comments? Hit me up at <a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#114;&#105;&#115;&#097;&#111;&#110;&#114;&#097;&#105;&#108;&#115;&#064;&#103;&#109;&#097;&#105;&#108;&#046;&#099;&#111;&#109;">risaonrails <i class="fa fa-paper-plane-o"></i></a>!</p>


  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Risa on Rails</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>What's up, buttercup?</li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="mailto:risaonrails@gmail.com">
              <span class="icon  icon--email">
                <i class="fa fa-paper-plane-o"></i>
              </span>

              <span class="username">risaonrails</span>
            </a>
          </li>
          
          
          <li>
            <a href="https://linkedin.com/in/risabatta">
              <span class="icon  icon--linkedin">
                <i class="fa fa-linkedin"></i>
              </span>

              <span class="username">risabatta</span>
            </a>
          </li>
          
          
          <li>
            <a href="https://github.com/rbatta">
              <span class="icon  icon--github">
                <i class="fa fa-github-alt"></i>
              </span>

              <span class="username">rbatta</span>
            </a>
          </li>
          
          
          <li>
            <a href="https://twitter.com/mookiy">
              <span class="icon  icon--twitter">
                <i class="fa fa-twitter"></i>
              </span>

              <span class="username">mookiy</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">Risa writes about Rails, Postgres, DevOps, and other things. She loves pairing, internet memes, cats, and all the cute things.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
